# Аудит действий пользователя

Кроссплатформенное Python-приложение для мониторинга действий пользователя (нажатия клавиш, клики мыши), открытых/закрытых процессов, ресурсов (ЦПУ, память) и сетевой активности (включая активные соединения). Логи отображаются в графическом интерфейсе с вкладками (на базе Tkinter) и сохраняются в файлы только по запросу пользователя с выбором логов и директории. Поддерживается поиск по логам.

## Установка

1. Установите Python 3 (Tkinter входит в стандартную библиотеку).
2. Установите зависимости из `requirements.txt`:
pip install -r requirements.txt

## Запуск

Запустите основной скрипт:
python main.py

### Интерфейс
- **Вкладки**:
  - **Клавиатура**: Лог нажатий клавиш (обычных и специальных).
  - **Мышь**: Лог нажатий кнопок мыши (левая, правая, средняя).
  - **Процессы**: Лог открытых и закрытых процессов (имя и PID).
  - **Ресурсы**: Использование ЦПУ и памяти.
  - **Сеть**: Отправленные/полученные данные (в КБ) и активные сетевые соединения (IP, порты, протокол).
- **Кнопки**:
  - **Начать аудит**: Запускает мониторинг всех компонентов.
  - **Остановить аудит**: Останавливает мониторинг.
  - **Очистить все логи**: Очищает текстовые поля во всех вкладках.
  - **Сохранить логи**: Открывает диалоговое окно для выбора логов (флажки) и папки, сохраняет выбранные логи в файлы `keyboard.log`, `mouse.log`, `process.log`, `resource.log`, `network.log`.
- **Поиск**:
  - Поле ввода и кнопка "Найти" для поиска по логам текущей вкладки.
  - Совпадения подсвечиваются желтым фоном.
  - Если совпадений нет, отображается сообщение.

## Зависимости
- **pynput**: Для отслеживания клавиатуры и мыши.
- **psutil**: Для мониторинга процессов, ЦПУ, памяти и сети.

## Особенности
- **Кроссплатформенность**: Работает на Windows и Linux.
- **Логирование**:
  - Нажатия клавиш (без отпусканий).
  - Нажатия кнопок мыши (без отпусканий).
  - Открытие/закрытие процессов.
  - Использование ЦПУ и памяти (в процентах и МБ).
  - Сетевая активность: отправленные/полученные данные и активные соединения (TCP/UDP, IP, порты).
- **Сохранение логов**:
  - Логи сохраняются только при нажатии кнопки "Сохранить логи".
  - Пользователь выбирает, какие логи сохранять (через флажки: Клавиатура, Мышь, Процессы, Ресурсы, Сеть).
  - Пользователь выбирает папку через диалоговое окно.
  - Файлы: `keyboard.log`, `mouse.log`, `process.log`, `resource.log`, `network.log`.
- **Поиск по логам**:
  - Поиск выполняется в текущей вкладке.
  - Подсветка совпадений желтым цветом.
  - Поддерживает регистронезависимый поиск.
- **Интерфейс**: Тематизированные виджеты Tkinter, шрифт Courier для логов, светлый фон.
- **Мониторинг**: Обновляется каждые 5 секунд.
- **Иконка приложения**: Использует `audit.ico` (Windows) или `audit.png` (Linux).

## Примечания
- Для доступа к информации о процессах и сетевых соединениях может потребоваться запуск с правами администратора.
- Мониторинг процессов и сети может быть ресурсоемким при большом количестве событий.
- Для этичного использования: Применяйте только с согласия пользователя.
- Если иконки (`audit.ico`, `audit.png`) отсутствуют, приложение запустится без них.
- Убедитесь, что выбранная папка для сохранения логов доступна для записи.

## Замечания по иконкам
- Для Windows: Создайте файл `audit.ico` (рекомендуемый размер 32x32 или 64x64 пикселей) и поместите его в папку с `main.py`.
- Для Linux: Создайте файл `audit.png` (рекомендуемый размер 32x32 или 64x64 пикселей) и поместите его в папку с `main.py`.
- Иконка отображается в панели задач и заголовке окна.

## Создание иконок
1. Создайте изображение (например, в PNG) с помощью графического редактора.
2. Для Windows: Конвертируйте PNG в ICO с помощью онлайн-конвертеров (например, `convertio.co`) или инструментов вроде ImageMagick.
3. Для Linux: Используйте PNG напрямую.
4. Поместите файлы `audit.ico` (Windows) или `audit.png` (Linux) в папку с `main.py`.